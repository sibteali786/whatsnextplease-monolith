
> web@0.1.0 build D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\apps\web
> npx prisma generate && pnpm run build:cdk && npx prisma migrate deploy && next build

Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma

✔ Generated Prisma Client (v6.16.3) to .\..\..\node_modules\.pnpm\@prisma+client@6.16.3_prisma@6.16.3_magicast@0.3.5_typescript@5.6.3__typescript@5.6.3\node_modules\@prisma\client in 1.41s

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Need your database queries to be 1000x faster? Accelerate offers you that and more: https://pris.ly/tip-2-accelerate


> web@0.1.0 build:cdk D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\apps\web
> npm --prefix cdk run build


> cdk@0.1.0 build
> tsc

Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma
Datasource "db": PostgreSQL database "wnpdb_dev", schema "public" at "localhost:5433"

37 migrations found in prisma/migrations


┌─────────────────────────────────────────────────────────┐
No pending migrations to apply.
│  Update available 6.16.3 -> 6.17.0                      │
│  Run the following to update                            │
│    npm i --save-dev prisma@latest                       │
│    npm i @prisma/client@latest                          │
└─────────────────────────────────────────────────────────┘
  ▲ Next.js 14.2.15
  - Environments: .env.local, .env

   Creating an optimized production build ...

[1m[33mwarn[39m[22m - The safelist pattern `/^hover:bg-(red|green|blue|yellow|orange|purple|cyan|gray)-(300|400|500|600|700|800)$/` doesn't match any Tailwind CSS classes.
[1m[33mwarn[39m[22m - Fix this pattern or remove it from your `safelist` configuration.
[1m[33mwarn[39m[22m - https://tailwindcss.com/docs/content-configuration#safelisting-classes
 ✓ Compiled successfully
   Linting and checking validity of types ...

./app/(auth)/verify-email/page.tsx
25:6  Warning: React Hook useEffect has a missing dependency: 'verifyEmail'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./app/(dashboard)/clients/data-table.tsx
61:6  Warning: React Hook useEffect has a missing dependency: 'fetchClients'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./app/(dashboard)/settings/permissions/page.tsx
106:6  Warning: React Hook useEffect has missing dependencies: 'fetchUsersWithRoles', 'pagination.limit', and 'searchTerm'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps

./app/(dashboard)/taskAgents/task-agent-table.tsx
71:6  Warning: React Hook useEffect has a missing dependency: 'fetchAgents'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./app/(dashboard)/users/data-table.tsx
70:6  Warning: React Hook useEffect has a missing dependency: 'fetchItems'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./app/(dashboard)/users/[userId]/page.tsx
57:6  Warning: React Hook useEffect has a missing dependency: 'refreshTaskStats'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/chat/ChatNotificationsIndicator.tsx
201:6  Warning: React Hook useEffect has a missing dependency: 'createMessageHandler'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/clients/billing-table.tsx
64:6  Warning: React Hook useEffect has a missing dependency: 'fetchInvoices'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/clients/ClientHistoryList.tsx
43:6  Warning: React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/clients/ClientTaskList.tsx
43:6  Warning: React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/comments/CommentSection.tsx
61:6  Warning: React Hook useEffect has a missing dependency: 'loadComments'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
87:6  Warning: React Hook useEffect has a missing dependency: 'loadComments'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/comments/EditorToolbar.tsx
68:9  Warning: The 'toggleLink' function makes the dependencies of useEffect Hook (at line 119) change on every render. To fix this, wrap the definition of 'toggleLink' in its own useCallback() Hook.  react-hooks/exhaustive-deps

./components/common/EditTaskDialog.tsx
394:6  Warning: React Hook useEffect has missing dependencies: 'fetchSkills' and 'fetchTaskMetadata'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps
398:6  Warning: React Hook useEffect has a missing dependency: 'fetchUsers'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/files/FilePreviewModal.tsx
292:6  Warning: React Hook useEffect has a missing dependency: 'currentFile'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/settings/ProfileFormClient.tsx
140:6  Warning: React Hook useEffect has a missing dependency: 'toast'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/settings/ProfileFormUser.tsx
217:6  Warning: React Hook useEffect has missing dependencies: 'toast' and 'token'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps

./components/tasks/CreateTaskContainer.tsx
121:6  Warning: React Hook useEffect has a missing dependency: 'getDefaultValues'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps
306:6  Warning: React Hook useEffect has missing dependencies: 'form', 'router', and 'toast'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps
349:6  Warning: React Hook useEffect has missing dependencies: 'form', 'toast', and 'user?.role?.name'. Either include them or remove the dependency array.  react-hooks/exhaustive-deps

./components/tasks/TasksListModal.tsx
67:6  Warning: React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/tasks/TaskSuperVisorList.tsx
143:6  Warning: React Hook useCallback has a missing dependency: 'userId'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/TopBar.tsx
194:6  Warning: React Hook useEffect has a missing dependency: 'createMessageHandler'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./components/users/UserTasks.tsx
115:6  Warning: React Hook useEffect has a missing dependency: 'fetchTasks'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

info  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/basic-features/eslint#disabling-rules
   Collecting page data ...
   Generating static pages (0/35) ...
node:events:496
      throw er; // Unhandled 'error' event
      ^

TypeError: destination.write is not a function
    at run (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\worker.js:130:27)
    at Timeout._onTimeout (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\wait.js:51:11)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
Emitted 'error' event on ThreadStream instance at:
    at Immediate.<anonymous> (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\index.js:369:12)
    at process.processImmediate (node:internal/timers:491:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)

Node.js v22.11.0
 ⨯ Static worker exited with code: 1 and signal: null
node:events:496
      throw er; // Unhandled 'error' event
      ^

TypeError: destination.write is not a function
    at run (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\worker.js:130:27)
    at Timeout._onTimeout (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\wait.js:51:11)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
Emitted 'error' event on ThreadStream instance at:
    at Immediate.<anonymous> (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\index.js:369:12)
    at process.processImmediate (node:internal/timers:491:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)

Node.js v22.11.0
 ⨯ Static worker exited with code: 1 and signal: null
   Generating static pages (8/35) 
node:events:496
      throw er; // Unhandled 'error' event
      ^

TypeError: destination.write is not a function
    at run (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\worker.js:130:27)
    at Timeout._onTimeout (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\wait.js:51:11)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
Emitted 'error' event on ThreadStream instance at:
    at Immediate.<anonymous> (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\index.js:369:12)
    at process.processImmediate (node:internal/timers:491:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)

Node.js v22.11.0
 ⨯ Static worker exited with code: 1 and signal: null
node:events:496
      throw er; // Unhandled 'error' event
      ^

TypeError: destination.write is not a function
    at run (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\worker.js:130:27)
    at Timeout._onTimeout (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\lib\wait.js:51:11)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
Emitted 'error' event on ThreadStream instance at:
    at Immediate.<anonymous> (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\thread-stream@3.1.0\node_modules\thread-stream\index.js:369:12)
    at process.processImmediate (node:internal/timers:491:21)
    at process.callbackTrampoline (node:internal/async_hooks:130:17)

Node.js v22.11.0
 ⨯ Static worker exited with code: 1 and signal: null
   Generating static pages (17/35) 
   Generating static pages (26/35) 
Current user API error: n [Error]: Dynamic server usage: Route /api/auth/current-user couldn't be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at l (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\apps\web\.next\server\chunks\2110.js:1:37158)
    at p (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\apps\web\.next\server\chunks\601.js:1:33520)
    at c (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\apps\web\.next\server\app\api\auth\current-user\route.js:1:1240)
    at D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\compiled\next-server\app-route.runtime.prod.js:6:36963
    at D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\server\lib\trace\tracer.js:140:36
    at NoopContextManager.with (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\compiled\@opentelemetry\api\index.js:1:7062)
    at ContextAPI.with (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\compiled\@opentelemetry\api\index.js:1:518)
    at NoopTracer.startActiveSpan (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\compiled\@opentelemetry\api\index.js:1:18093)
    at ProxyTracer.startActiveSpan (D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\compiled\@opentelemetry\api\index.js:1:18854)
    at D:\STUDY RELATED\HillCountryCoders\whatsnextplease-monolith\node_modules\.pnpm\next@14.2.15_@babel+core@7.28.4_react-dom@18.3.1_react@18.3.1__react@18.3.1\node_modules\next\dist\server\lib\trace\tracer.js:122:103 {
  description: "Route /api/auth/current-user couldn't be rendered statically because it used `cookies`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error",
  digest: 'DYNAMIC_SERVER_USAGE'
}
 ✓ Generating static pages (35/35)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                              Size     First Load JS
┌ ƒ /                                    337 B          87.8 kB
├ ○ /_not-found                          879 B          88.3 kB
├ ƒ /api/auth/current-user               0 B                0 B
├ ○ /api/skills                          0 B                0 B
├ ƒ /api/task/doesTaskExists             0 B                0 B
├ ƒ /api/tasks/idsByType                 0 B                0 B
├ ƒ /api/tasks/tasksCount                0 B                0 B
├ ƒ /api/tasks/taskType                  0 B                0 B
├ ƒ /api/tasks/unassignedTasks           0 B                0 B
├ ƒ /api/user/doesUserExists             0 B                0 B
├ ƒ /api/users/taskAgentList             0 B                0 B
├ ƒ /clients                             7.93 kB         172 kB
├ ƒ /clients/[clientId]                  6.01 kB         754 kB
├ ƒ /clients/addclient                   2.01 kB         277 kB
├ ○ /forgot-password                     4.49 kB         106 kB
├ ƒ /home                                3.68 kB         247 kB
├ ƒ /messages                            1.75 kB         100 kB
├ ƒ /notifications/me                    10.1 kB         166 kB
├ ○ /resend-verification                 4.38 kB        98.6 kB
├ ○ /reset-password                      5.85 kB         107 kB
├ ƒ /settings/billing                    193 B          87.6 kB
├ ƒ /settings/myprofile                  12.2 kB         285 kB
├ ƒ /settings/notifications              8.46 kB         127 kB
├ ƒ /settings/permissions                8.27 kB         131 kB
├ ƒ /settings/picklists                  24.1 kB         715 kB
├ ○ /signin                              9.44 kB         158 kB
├ ○ /signup                              4.11 kB         175 kB
├ ƒ /skills                              1.53 kB         209 kB
├ ƒ /taskAgents                          11.3 kB         154 kB
├ ƒ /taskOfferings                       5.97 kB         768 kB
├ ƒ /taskOfferings/(.)taskId             943 B           668 kB
├ ƒ /taskOfferings/[taskId]              638 B           668 kB
├ ƒ /users                               14 kB           305 kB
├ ƒ /users/[userId]                      5.06 kB         884 kB
├ ƒ /users/adduser                       2.69 kB         285 kB
└ ○ /verify-email                        3.72 kB        97.9 kB
+ First Load JS shared by all            87.4 kB
  ├ chunks/600a3b68-b8a1ef61c644e288.js  53.6 kB
  ├ chunks/7551-d2b933f66bb69183.js      31.8 kB
  └ other shared chunks (total)          2.03 kB


ƒ Middleware                             80 kB

○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand

